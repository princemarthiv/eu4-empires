namespace = german_unification

# The Confederation of North German States
country_event = {
	id = german_unification.1
	title = "german_unification.EVTNAME1"
	desc = "german_unification.EVTDESC1"
	picture = Conquest_eventPicture
	
	is_triggered_only = yes
	major = yes
	
	option = {
		name = "german_unification.EVT1OPTA"
		ai_chance = {
			factor = 1
		}
		NGF = {
			country_event = { id = german_unification.2 }
		}
	}
	option = {
		name = "german_unification.EVT1OPTB"
		ai_chance = { 
			factor = 0
			modifier = {
				factor = 2
				if = {army_size = NGF}
			}
		}
	}
}

# German states join the confederation
country_event = {
	id = german_unification.2
	title = "german_unification.EVTNAME2"
	desc = "german_unification.EVTDESC2"
	picture = Court_eventPicture
	is_triggered_only = yes
	
	option = {
		name = "german_unification.EVT2OPTA"
		inherit = FROM
	}
}

# The South's Response
country_event = {
	id = german_unification.3
	title = "german_unification.EVTNAME3"
	desc = {
		trigger = {
			OR = {
				tag = HAB
				tag = HEM
				tag = AHE
			}
		}
		"german_unification.EVTDESC3.a"
	}
	desc = {
		trigger = {
			NOT = {
				tag = HAB
				tag = HEM
				tag = AHE
			}
		}
		"german_unification.EVTDESC3.b
	}	
	picture = Conquest_eventPicture
	fire_only_once = yes
	major = yes
	trigger = {
		NGF = {
			num_of_owned_provinces_with = {
				region = north_german_region
				value = 40
			}
		}
		OR = {
			tag = HAB
			tag = HEM
			tag = AHE
			army_strength = {
				who = {
					every_country = {
						limit = {
							capital_scope = { region = south_german_region }
						}
					}
				}
				value = 1.25
			}			
		}
	}
	mean_time_to_happen = {
		months = 1
	}
		
	option = {
		name = {
			if = {
				OR = {
					tag = HAB
					tag = HEM
					tag = AHE
				}
				"german_unification.EVT3OPTA.1"
			}
			if = {
				NOT = {
					tag = HAB
					tag = HEM
					tag = AHE
				}
				"german_unification.EVT3OPTA.2
			}
		}
		if = {
			OR = {
				tag = HAB
				tag = HEM
				tag = AHE
			}
			hidden_effect = {
				country_event = { id = german_unification.5 }
				days = 30
			}
		}
		if = {
			NOT = {
				tag = HAB
				tag = HEM
				tag = AHE
			}
			change_tag = SGF
		}
		every_country = {
			limit = {
				capital_scope = { region = south_german_region }
			}
			country_event = { id = german_unification.4 }
		}
		ai_chance = 1
	}
	
	option = {
		name = german_unification.EVT3OPTB
		add_prestige = -10
		ai_chance = 0
	}
}

# The South German Confederation
country_event = {
	id = german_unification.4
	name = german_unification.EVTNAME4
	desc = german_unification.EVTDESC4
	picture = Court_eventPicture
	is_triggered_only = yes
	
	option = {
		name = german_unification.EVT4OPTA
		SGF = {
			integrate = ROOT 
		ai_chance = 1
		}
	}
	
	option = {
		name = german_unification.EVT4OPTB
		add_prestige = 10
		if = {
			army_strength = {
				who = ROOT
				value = 1 
			}
			ai_chance = 2
		}
	}

# Vassalizing South German Confederation
country_event = {
	id = german_unification.5
	name = german_unification.EVTNAME5
	desc = german_unification.EVTDESC5
	picture = Court_eventPicture
	is_triggered_only = yes
	
	option = {
		name = german_unification.EVT5OPTA
		create_vassal = SGF
	}
}
		

				
				
			
	